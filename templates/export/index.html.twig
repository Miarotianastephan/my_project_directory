<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        h1 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        button { padding: 10px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        /* Styles pour l'impression PDF */
        @media print {
            table { page-break-inside: auto; }
            tr { page-break-inside: avoid; page-break-after: auto; }
            thead { display: table-header-group; }
            tfoot { display: table-footer-group; }
        }
        /* Style pour le numéro de page */
        .page-number:before {
            content: counter(page);
        }
        @page {
            @bottom-right {
                content: counter(page);
            }
        }
    </style>
</head>
<body class="">
    <button id="generatePdfElement" class="bg-blue-500 text-white px-4 py-2 rounded-md">Generate PDF</button>
    <div id="contentTb">
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>N Compte</th>
                    <th>Intitulé compte</th>
                    <th>Débit</th>
                    <th>Crédit</th>
                    <th>Solde</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>Banque</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>Banque</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>Banque</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>Banque</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>Banque</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>DERRRRRNIER</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>01/09/2024</td>
                    <td>613000</td>
                    <td>Social Prime divers</td>
                    <td>1000.00</td>
                    <td></td>
                    <td>1000.00</td>
                </tr>
                <tr>
                    <td>02/09/2024</td>
                    <td>520000</td>
                    <td>vvvs</td>
                    <td></td>
                    <td>1000.00</td>
                    <td>1000.00</td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- Élément pour le numéro de page -->
    <div id="pageNumber" style="position: fixed; bottom: 10px; right: 10px; font-size: 12px;">
        Page <span class="page-number"></span>
    </div>
</body>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const generatePdfButton = document.getElementById('generatePdfElement');
    generatePdfButton.addEventListener('click', () => {
        const contentTb = document.getElementById('contentTb');
        const options = {
            margin: [15, 10, 25, 10], // Augmentation des marges supérieure et inférieure
            filename: 'testPDF.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
            pagebreak: { mode: ['avoid-all', 'css', 'legacy'] },
            header: function(currentPage, pageCount) {
                return {
                    table: { widths: ['*'], body: [[{ text: 'En-tête du tableau', style: 'tableHeader', alignment: 'center' }]] },
                    margin: [30, 10, 30, 0]
                };
            },
            footer: function(currentPage, pageCount) {
                return {
                    text: 'Page ' + currentPage.toString() + ' sur ' + pageCount.toString(),
                    alignment: 'right',
                    margin: [0, 0, 10, 10]
                };
            }
        };

        html2pdf().set(options).from(contentTb).save();
    });
});
</script>
</html>